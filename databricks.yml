bundle:
  name: dab_project

include:
  - resources/jobs/*.yml
  - resources/pipelines/*.yml

variables:
  catalog:
    description: "Cat√°logo do Unity Catalog usado pelos recursos (jobs/pipelines)."
  data_team:
    description: "Data Team"
    default: dtcore
  data_team_upper:
    default: DTCORE
  
workspace:
  root_path: /Workspace/data_teams_bundles/${var.data_team}


    
targets:
  dev:
    default: true
    workspace:
      host: https://adb-3708298834757333.13.azuredatabricks.net 
    variables:
      catalog:
        default: ${var.data_team}_${bundle.target}
    permissions:
    - group_name: "CLOUD_${var.data_team_upper}"
      level: CAN_MANAGE
    - user_name: "johg.estudos@gmail.com"
      level: CAN_MANAGE


  hmg:
    workspace:
      host: https://adb-931595883494472.12.azuredatabricks.net  
    variables:
      catalog:
        default: ${var.data_team}_${bundle.target}
    permissions:
    - group_name: "CLOUD_${var.data_team_upper}"
      level: CAN_MANAGE
    - user_name: "johg.estudos@gmail.com"
      level: CAN_MANAGE


  prd:
    mode: production
    workspace:
      host: https://adb-3057642023030474.14.azuredatabricks.net 
    variables:
      catalog:
        default: ${var.data_team}_${bundle.target}
    permissions:
    - group_name: "CLOUD_${var.data_team_upper}"
      level: CAN_MANAGE
    - user_name: "johg.estudos@gmail.com"
      level: CAN_MANAGE
